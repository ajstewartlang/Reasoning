{
    "collab_server" : "",
    "contents" : "library (lme4)\nlibrary (lmerTest)\nlibrary (lsmeans)\nlibrary (pbkrtest)\nlibrary (readr)\nlibrary (ggplot2)\n\n#script for AngerFear RT and accuracy data analysis with arousal\n\n#this is the analysis of the RT data\nAngerFearRT <- read_csv(\"~/AngerFearRT.csv\")\n\nAngerFearRT$StoryEmotion <- as.factor (AngerFearRT$StoryEmotion)\nAngerFearRT$FaceExpression <- as.factor (AngerFearRT$FaceExpression)\n\ncontrasts (AngerFearRT$StoryEmotion) <- matrix (c(.5, -.5)) \ncontrasts (AngerFearRT$FaceExpression) <- matrix (c(.5, -.5)) \n\n#with Subject, Vignette, and Face as crossed random effects with arousal\n#full model does not converge so need to drop interaction term from the random effects - in addition, Face random effect has only random intercept and slope for FaceExpression\nmodelRTAr1 <- lmer (RT ~ StoryEmotion*FaceExpression*Arousal + (1+StoryEmotion+FaceExpression|Subject) + (1+StoryEmotion+FaceExpression|Vignette) + (1+FaceExpression|Face), data=AngerFearRT, REML=TRUE)\nsummary (modelRTAr1)\nmodelRT <- lmer (RT ~ StoryEmotion*FaceExpression + (1+StoryEmotion+FaceExpression|Subject) + (1+StoryEmotion+FaceExpression|Vignette) + (1+FaceExpression|Face), data=AngerFearRT, REML=TRUE)\nanova (modelRTAr1, modelRT)\n\n#difference between models not signif - arousal does not interact with effect so drop arousal from subsequent analysis\n\nmodelRTnull <- lmer (RT ~  (1+StoryEmotion+FaceExpression|Subject) + + (1+StoryEmotion+FaceExpression|Vignette) + (1+FaceExpression|Face), data=AngerFearRT, REML=TRUE)\nanova (modelRT, modelRTnull)\nsummary (modelRT)\nlsmeans (modelRT, pairwise~StoryEmotion*FaceExpression, adjust=\"none\")\n\n#graphing the means and SEs\nAngerFeargraphdata <- read_csv(\"~/AngerFeargraphdata.csv\")\np <- ggplot(AngerFeargraphdata, aes(x=StoryEmotion, y=Mean, group = FaceEmotion, colour = FaceEmotion, ymin = 1000)) + geom_line() + geom_point() + geom_errorbar(aes(ymin=Mean-SE, ymax=Mean+SE), width=.1) + labs (y=\"RT in ms\", x= \"Vignette Emotion\", colour=\"Facial Emotion\")\np <- p + scale_colour_grey(start = 0, end = .7) + theme_bw()\np <- p + theme(text = element_text(size = 20))\np\n\n#this is the analysis of the accuracy data\nAngerFearAcc <- read_csv(\"~/AngerFearAcc.csv\")\n\nAngerFearAcc$StoryEmotion <- as.factor (AngerFearAcc$StoryEmotion)\nAngerFearAcc$FaceExpression <- as.factor (AngerFearAcc$FaceExpression)\n\ncontrasts (AngerFearAcc$StoryEmotion)<-matrix (c(.5, -.5)) \ncontrasts (AngerFearAcc$FaceExpression)<-matrix (c(.5, -.5)) \n\n#full model does not converge - most complex is with random intercepts\nmodelAcc <- glmer (Accuracy ~ StoryEmotion*FaceExpression + (1|Subject) + (1|Vignette) , data=AngerFearAcc, family=binomial)\nlsmeans (modelAcc, pairwise~StoryEmotion*FaceExpression, adjust=\"none\", type=\"response\")\nmodelAcc.null <- glmer (Accuracy ~  (1|Subject) + (1|Vignette) , data=AngerFearAcc, family=binomial)\nanova (modelAcc, modelAcc.null)\nsummary (modelAcc)\n\n#graphing the means and SEs\nAngerFeargraphacc <- read_csv(\"~/AngerFeargraphacc.csv\")\np <- ggplot(AngerFeargraphacc, aes(x=StoryEmotion, y=Mean, group = FaceEmotion, colour = FaceEmotion, ymin = 80)) + geom_line() + geom_point() + geom_errorbar(aes(ymin=Mean-SE, ymax=Mean+SE), width=.1) + labs (y=\"% Correct\", x= \"Vignette Emotion\", colour=\"Facial Emotion\")\np <- p + scale_colour_grey(start = 0, end = .7) + theme_bw()\np <- p + theme(text = element_text(size = 20))\np",
    "created" : 1495546082817.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4103962590",
    "id" : "885A2559",
    "lastKnownWriteTime" : 1491290344,
    "last_content_update" : 1491290344,
    "path" : "~/Desktop/Air Work/R analyses/Suzanne faces paper/Final R code and data/Expt 1 Script and data/Expt1_AngerFear_script.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}